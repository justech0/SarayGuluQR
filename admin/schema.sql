-- Saray Gülü Admin Panel SQL Dökümü
-- Veritabanı: u220042353_saray

CREATE TABLE IF NOT EXISTS admins (
  id INT AUTO_INCREMENT PRIMARY KEY,
  username VARCHAR(64) NOT NULL UNIQUE,
  password_hash VARCHAR(255) NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO admins (username, password_hash) VALUES
('sarayadmin', '$2y$12$lrWTlnLLqQ386KABFDYmde6fsktr0GL1d4SbNIMTUPlbV3bnSmsPy');

CREATE TABLE IF NOT EXISTS categories (
  id INT AUTO_INCREMENT PRIMARY KEY,
  parent_id INT NULL,
  name VARCHAR(150) NOT NULL,
  description TEXT,
  image_path VARCHAR(255),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  CONSTRAINT fk_categories_parent FOREIGN KEY (parent_id) REFERENCES categories(id) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE IF NOT EXISTS products (
  id INT AUTO_INCREMENT PRIMARY KEY,
  category_id INT,
  name VARCHAR(200) NOT NULL,
  description TEXT,
  price DECIMAL(10,2) NOT NULL DEFAULT 0.00,
  image_path VARCHAR(255),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  CONSTRAINT fk_products_category FOREIGN KEY (category_id) REFERENCES categories(id) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE IF NOT EXISTS branches (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  wifi_name VARCHAR(150) DEFAULT NULL,
  wifi_password VARCHAR(150) DEFAULT NULL,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO branches (id, name, wifi_name, wifi_password) VALUES
(1, 'Merkez', 'SarayGulu-Merkez', 'sg2024!'),
(2, 'Petrol City', 'SarayGulu-Petrol', 'petrolcity24'),
(3, 'Kıra Dağı', 'SarayGulu-KiraDagi', 'kiradagi24')
ON DUPLICATE KEY UPDATE
  name = VALUES(name),
  wifi_name = VALUES(wifi_name),
  wifi_password = VALUES(wifi_password);

CREATE TABLE IF NOT EXISTS feedbacks (
  id INT AUTO_INCREMENT PRIMARY KEY,
  customer_name VARCHAR(120) NOT NULL,
  rating INT NOT NULL CHECK (rating BETWEEN 1 AND 5),
  comment TEXT,
  branch_id INT NULL,
  topic VARCHAR(50) DEFAULT NULL,
  contact VARCHAR(150) DEFAULT NULL,
  language VARCHAR(5) DEFAULT 'tr',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  CONSTRAINT fk_feedbacks_branch FOREIGN KEY (branch_id) REFERENCES branches(id) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- Menü kategorileri (üst ve alt) ve ürün tohum verisi
INSERT INTO categories (id, parent_id, name, description) VALUES
 (1, NULL, 'GÜNE BAŞLARKEN', NULL),
 (2, NULL, 'TOSTLAR', NULL),
 (3, NULL, 'BAŞLANGIÇLAR', NULL),
 (4, NULL, 'BURGERLER', NULL),
 (5, NULL, 'SALATALAR', NULL),
 (6, NULL, 'PİZZA & PİDELER', NULL),
 (7, NULL, 'MAKARNALAR & NOODLE', NULL),
 (8, NULL, 'LEZZETLİ TAVUKLAR', NULL),
 (9, NULL, 'YÖRESEL ETLER', NULL),
 (10, NULL, 'KEBAP VE IZGARALAR', NULL),
 (11, NULL, 'FAJITALAR', NULL),
 (12, NULL, 'SOĞUK İÇECEKLER', NULL),
 (13, NULL, 'İLAVE İÇECEKLER', NULL),
 (14, NULL, 'SOĞUK SIKMALAR', NULL),
 (15, NULL, 'SICAK İÇECEKLER', NULL),
 (16, NULL, 'BİTKİ ÇAYLARI', NULL),
 (17, NULL, 'TÜRK KAHVELERİ', NULL),
 (18, NULL, 'DÜNYA KAHVELERİ', NULL),
 (19, 18, 'DÜNYA KAHVELERİ – SERT İÇİM', NULL),
 (20, 18, 'DÜNYA KAHVELERİ – YUMUŞAK İÇİM', NULL),
 (21, 18, 'DÜNYA KAHVELERİ – TATLI İÇİM', NULL),
 (22, NULL, 'BÖLGESEL KAHVELER', NULL),
 (23, NULL, 'SOĞUK KAHVELER', NULL),
 (24, 23, 'SOĞUK KAHVELER – SERT İÇİM', NULL),
 (25, 23, 'SOĞUK KAHVELER – TATLI İÇİM', NULL),
 (26, NULL, 'KOKTEYLLER', NULL),
 (27, NULL, 'MILKSHAKELER', NULL),
 (28, NULL, 'FROZENLER', NULL),
 (29, NULL, 'FRAPPELER', NULL),
 (30, NULL, 'WAFFLE', NULL),
 (31, NULL, 'PASTALAR', NULL),
 (32, NULL, 'SÜTLÜ TATLILAR', NULL),
 (33, NULL, 'DONDURMALAR', NULL)
ON DUPLICATE KEY UPDATE name=VALUES(name);

INSERT INTO products (category_id, name, description, price) VALUES
 (1, 'Yöresel serpme kahvaltı', NULL, 0),
 (1, 'Tek kişilik kahvaltı tabağı', NULL, 0),
 (1, 'Kavurmalı yumurta', NULL, 0),
 (1, 'Tereyağlı sahanda yumurta', NULL, 0),
 (1, 'Sucuklu yumurta', NULL, 0),
 (1, 'Pastırmalı yumurta', NULL, 0),
 (1, 'Omlet çeşitleri', NULL, 0),
 (2, 'Kaşarlı tost', NULL, 0),
 (2, 'Karışık tost', NULL, 0),
 (2, 'Kavurmalı kaşarlı tost', NULL, 0),
 (3, 'Günün çorbası', NULL, 0),
 (3, 'Patates tava', NULL, 0),
 (3, 'Atıştırma sepeti', NULL, 0),
 (4, 'Klasik hamburger', NULL, 0),
 (4, 'Cheese burger', NULL, 0),
 (4, 'Çıtır tavuk burger', NULL, 0),
 (4, 'Sultan lokum burger', NULL, 0),
 (5, 'Tavuklu Sezar salata', NULL, 0),
 (5, 'Çoban salata', NULL, 0),
 (5, 'Izgara hellim salata', NULL, 0),
 (5, 'Ton balıklı salata', NULL, 0),
 (5, 'Keçi peynirli Saray salata', NULL, 0),
 (6, 'Margarita pizza', NULL, 0),
 (6, 'Mantarlı pizza', NULL, 0),
 (6, 'Mix karnaval pizza', NULL, 0),
 (6, 'Pizza ala tono', NULL, 0),
 (6, 'Üç peynirli pastırmalı pizza', NULL, 0),
 (6, 'Sucuklu pizza', NULL, 0),
 (6, 'Kaşarlı pide', NULL, 0),
 (6, 'Kıymalı pide', NULL, 0),
 (6, 'Kuşbaşılı pide', NULL, 0),
 (6, 'Kuşbaşı kaşarlı', NULL, 0),
 (6, 'Kıymalı kaşarlı', NULL, 0),
 (6, 'Pide special', NULL, 0),
 (6, 'Lahmacun', NULL, 0),
 (7, 'Fettucine Alfredo', NULL, 0),
 (7, 'Penne Arabiata', NULL, 0),
 (7, 'Sebzeli noodle', NULL, 0),
 (7, 'Tavuklu noodle', NULL, 0),
 (7, 'Dana etli noodle', NULL, 0),
 (8, 'Tavuk külbastı', NULL, 0),
 (8, 'Fesleğenli mantarlı tavuk', NULL, 0),
 (8, 'Kremalı mantarlı tavuk', NULL, 0),
 (8, 'Mexican soslu tavuk', NULL, 0),
 (8, 'Köri soslu tavuk', NULL, 0),
 (8, 'Tavuk schnitzel', NULL, 0),
 (9, 'Mantar soslu dana bonfile', NULL, 0),
 (9, 'Cafe de Paris soslu dana bonfile', NULL, 0),
 (9, 'Izgara dana antrikot', NULL, 0),
 (9, 'Saray lokum', NULL, 0),
 (9, 'Çökertme kebabı', NULL, 0),
 (9, 'Izgara köfte', NULL, 0),
 (9, 'Kaşarlı köfte', NULL, 0),
 (9, 'Kuzu pirzola', NULL, 0),
 (9, 'Fırında kuzu sırtı', NULL, 0),
 (9, 'Çömlekte kuzu tandır', NULL, 0),
 (9, 'Fırında kuzu incik', NULL, 0),
 (9, 'Saç tava (kuzu)', NULL, 0),
 (10, 'Tavuk şiş', NULL, 0),
 (10, 'Yaprak kanat', NULL, 0),
 (10, 'Domatesli kebap', NULL, 0),
 (10, 'Patlıcanlı kebap', NULL, 0),
 (10, 'Karışık et tabağı', NULL, 0),
 (10, 'Acılı kebap', NULL, 0),
 (10, 'Acısız kebap', NULL, 0),
 (10, 'Çöp şiş', NULL, 0),
 (10, 'Ciğer', NULL, 0),
 (10, 'Sarma beyti kebap', NULL, 0),
 (10, 'Fıstıklı kebap', NULL, 0),
 (11, 'Dana etli fajita', NULL, 0),
 (11, 'Tavuklu fajita', NULL, 0),
 (11, 'Fajita kombo', NULL, 0),
 (12, 'Su', NULL, 0),
 (12, 'Sade soda', NULL, 0),
 (12, 'Limonlu soda', NULL, 0),
 (12, 'Meyveli soda', NULL, 0),
 (12, 'Soğuk çay (limon, mango, karpuz, şeftali)', NULL, 0),
 (12, 'Coca Cola', NULL, 0),
 (12, 'Coca Cola Zero', NULL, 0),
 (12, 'Fanta', NULL, 0),
 (12, 'Enerji içeceği', NULL, 0),
 (12, 'Ayran', NULL, 0),
 (12, 'Yayık ayran', NULL, 0),
 (12, 'Şalgam', NULL, 0),
 (13, 'Cappy şeftali', NULL, 0),
 (13, 'Cappy vişne', NULL, 0),
 (13, 'Cappy kayısı', NULL, 0),
 (13, 'Cappy karışık', NULL, 0),
 (14, 'Portakal suyu', NULL, 0),
 (14, 'Limonata', NULL, 0),
 (14, 'Naneli limonata', NULL, 0),
 (14, 'Churchill', NULL, 0),
 (15, 'Çay', NULL, 0),
 (15, 'Fincan çay', NULL, 0),
 (15, 'Sade Nescafe', NULL, 0),
 (15, 'Sütlü Nescafe', NULL, 0),
 (15, 'Sıcak çikolata', NULL, 0),
 (15, 'Sıcak beyaz çikolata', NULL, 0),
 (15, 'Dondurmalı sıcak çikolata', NULL, 0),
 (15, 'Salep', NULL, 0),
 (15, 'Dondurmalı salep', NULL, 0),
 (15, 'Aromalı salep', NULL, 0),
 (15, 'Chai Tea Latte', NULL, 0),
 (15, 'Ballı süt', NULL, 0),
 (15, 'Ballı tarçınlı süt', NULL, 0),
 (15, 'Bal badem salep', NULL, 0),
 (16, 'Kış çayı', NULL, 0),
 (16, 'Ihlamur', NULL, 0),
 (16, 'Nane limon', NULL, 0),
 (16, 'Papatya çayı', NULL, 0),
 (16, 'Ada çayı', NULL, 0),
 (16, 'Yeşil çay', NULL, 0),
 (16, 'Elma tarçın', NULL, 0),
 (17, 'Türk kahvesi', NULL, 0),
 (17, 'Damla sakızlı Türk kahvesi', NULL, 0),
 (17, 'Sütlü Türk kahvesi', NULL, 0),
 (17, 'Süvari Türk kahvesi', NULL, 0),
 (17, 'Dibek kahvesi', NULL, 0),
 (17, 'Menengiç kahvesi', NULL, 0),
 (17, 'Osmanlı kahvesi', NULL, 0),
 (19, 'Espresso', NULL, 0),
 (19, 'Double espresso', NULL, 0),
 (19, 'Americano', NULL, 0),
 (19, 'Flat white', NULL, 0),
 (19, 'Cortado', NULL, 0),
 (19, 'Con panna', NULL, 0),
 (20, 'Latte', NULL, 0),
 (20, 'Cappuccino', NULL, 0),
 (20, 'Affagato', NULL, 0),
 (21, 'White Chocolate Mocha', NULL, 0),
 (21, 'Mocha', NULL, 0),
 (21, 'Zebra Mocha', NULL, 0),
 (21, 'Caramel Latte', NULL, 0),
 (21, 'Caramel Macchiato', NULL, 0),
 (22, 'Guatemala', NULL, 0),
 (22, 'Etiyopya', NULL, 0),
 (22, 'Brezilya', NULL, 0),
 (22, 'Colombia', NULL, 0),
 (22, 'Kenya', NULL, 0),
 (22, 'Irish Cream', NULL, 0),
 (22, 'Filtre kahve', NULL, 0),
 (24, 'Ice Latte', NULL, 0),
 (24, 'Ice Cappuccino', NULL, 0),
 (24, 'Ice Americano', NULL, 0),
 (24, 'Ice Filter Coffee', NULL, 0),
 (25, 'Ice White Mocha', NULL, 0),
 (25, 'Ice Mocha', NULL, 0),
 (25, 'Ice Caramel Latte', NULL, 0),
 (25, 'Ice Caramel Macchiato', NULL, 0),
 (26, 'Mojito', NULL, 0),
 (26, 'Çilekli Mojito', NULL, 0),
 (26, 'İtalyan sodası', NULL, 0),
 (26, 'Karadut Yağmuru', NULL, 0),
 (26, 'Frambuaz Aşkı', NULL, 0),
 (26, 'Strawberry Dream', NULL, 0),
 (26, 'Gönül Çelen', NULL, 0),
 (26, 'White Not', NULL, 0),
 (26, 'Yuppy', NULL, 0),
 (26, 'Coco Choco', NULL, 0),
 (26, 'White Nut', NULL, 0),
 (26, 'Flat Nut', NULL, 0),
 (26, 'Atom Vitamin', NULL, 0),
 (26, 'Saray Special', NULL, 0),
 (27, 'Çilekli milkshake', NULL, 0),
 (27, 'Çikolatalı milkshake', NULL, 0),
 (27, 'Karamelli milkshake', NULL, 0),
 (27, 'Vanilyalı milkshake', NULL, 0),
 (27, 'Muzlu milkshake', NULL, 0),
 (27, 'Oreolu milkshake', NULL, 0),
 (28, 'Çilekli Frozen', NULL, 0),
 (28, 'Nane Limon Frozen', NULL, 0),
 (28, 'Karadut Frozen', NULL, 0),
 (28, 'Şeftali Frozen', NULL, 0),
 (28, 'Elma Frozen', NULL, 0),
 (28, 'Frambuaz Frozen', NULL, 0),
 (28, 'Muz Frozen', NULL, 0),
 (29, 'Çikolatalı frappe', NULL, 0),
 (29, 'Vanilyalı frappe', NULL, 0),
 (29, 'Oreolu frappe', NULL, 0),
 (29, 'Muzlu frappe', NULL, 0),
 (29, 'Frappuccino', NULL, 0),
 (30, 'Karışık waffle', NULL, 0),
 (30, 'Muzlu waffle', NULL, 0),
 (30, 'Dondurmalı waffle', NULL, 0),
 (30, 'Ballı cevizli waffle', NULL, 0),
 (30, 'Fondü', NULL, 0),
 (30, 'Meyve tabağı', NULL, 0),
 (30, 'Çerez tabağı', NULL, 0),
 (31, 'Çikolatalı dilim pasta', NULL, 0),
 (31, 'Meyveli dilim pasta', NULL, 0),
 (31, 'Tiramisu dilim pasta', NULL, 0),
 (31, 'Frambuazlı cheesecake', NULL, 0),
 (31, 'Limonlu cheesecake', NULL, 0),
 (31, 'Fıstık rüyası', NULL, 0),
 (31, 'Çikolatalı suffle', NULL, 0),
 (31, 'Kuru pasta tabağı', NULL, 0),
 (31, 'Brownie', NULL, 0),
 (31, 'Ekler (porsiyon)', NULL, 0),
 (31, 'Malaga', NULL, 0),
 (31, 'San Sebastian', NULL, 0),
 (32, 'Profiterol', NULL, 0),
 (32, 'Supangle', NULL, 0),
 (32, 'Sütlaç', NULL, 0),
 (32, 'Trileçe', NULL, 0),
 (32, 'Magnolia', NULL, 0),
 (33, 'Çilekli dondurma', NULL, 0),
 (33, 'Çikolatalı dondurma', NULL, 0),
 (33, 'Muzlu dondurma', NULL, 0),
 (33, 'Karamelli dondurma', NULL, 0),
 (33, 'Vanilyalı dondurma', NULL, 0),
 (33, 'Oreolu dondurma', NULL, 0),
 (33, 'Fıstıklı dondurma', NULL, 0),
 (33, 'Frambuazlı dondurma', NULL, 0),
 (33, 'Karadutlu dondurma', NULL, 0),
 (33, 'Limonlu dondurma', NULL, 0)
ON DUPLICATE KEY UPDATE name=VALUES(name);
